# 美化后的Web页面（新增图片、分类、动态效果）
INDEX_HTML = '''
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能中草药识别工具</title>
    <style>
        * {margin:0; padding:0; box-sizing:border-box; font-family:"微软雅黑";}
        body {background:#f8f9fa; color:#333;}
        /* 导航栏 */
        .nav {background:#3498db; padding:15px 0; box-shadow:0 2px 10px rgba(0,0,0,0.1);}
        .nav-inner {max-width:1200px; margin:0 auto; display:flex; justify-content:space-between; align-items:center; padding:0 20px;}
        .logo {color:white; font-size:24px; font-weight:bold;}
        .nav-menu a {color:white; text-decoration:none; margin-left:20px; font-size:16px;}
        /* 主容器 */
        .container {max-width:1200px; margin:30px auto; padding:0 20px; display:flex; flex-wrap:wrap; gap:30px;}
        /* 识别区 */
        .recognize-box {flex:1; min-width:600px; background:white; border-radius:15px; padding:30px; box-shadow:0 5px 15px rgba(0,0,0,0.05);}
        .title {text-align:center; color:#2c3e50; margin-bottom:30px; font-size:28px; position:relative;}
        .title::after {content:""; display:block; width:80px; height:3px; background:#3498db; margin:10px auto;}
        .upload-area {border:2px dashed #3498db; border-radius:10px; padding:50px 20px; text-align:center; cursor:pointer; transition:all 0.3s; margin-bottom:20px;}
        .upload-area:hover {border-color:#2980b9; background:#f8fbff;}
        .upload-tip {color:#666; font-size:18px; margin-bottom:20px;}
        .upload-btn {background:#3498db; color:white; border:none; padding:12px 40px; border-radius:8px; font-size:18px; cursor:pointer; transition:all 0.3s;}
        .upload-btn:hover {background:#2980b9; transform:translateY(-2px);}
        .upload-input {display:none;}
        /* 结果区 */
        .result-box {margin-top:30px; padding:20px; border-radius:10px; background:#e8f4fd; display:none;}
        .result-box.show {display:block; animation:fadeIn 0.5s ease;}
        .result-title {font-size:22px; color:#2c3e50; margin-bottom:20px; font-weight:bold;}
        .herb-img {width:150px; height:150px; border-radius:10px; object-fit:cover; margin-bottom:20px;}
        .info-item {margin:15px 0; font-size:18px; line-height:1.8;}
        .info-label {color:#3498db; font-weight:bold; display:inline-block; width:100px;}
        .fail-msg {color:#e74c3c; text-align:center; font-size:20px; margin-top:20px;}
        /* 中药列表区 */
        .herb-list-box {flex:1; min-width:400px; background:white; border-radius:15px; padding:30px; box-shadow:0 5px 15px rgba(0,0,0,0.05);}
        .herb-list {display:flex; flex-wrap:wrap; gap:20px; margin-top:20px;}
        .herb-card {width:120px; text-align:center; cursor:pointer; transition:all 0.3s;}
        .herb-card:hover {transform:translateY(-5px);}
        .herb-card-img {width:100px; height:100px; border-radius:8px; object-fit:cover; margin-bottom:10px; border:2px solid #eee;}
        .herb-card-name {font-size:16px; color:#333;}
        /* 分类区 */
        .category {margin-bottom:20px; text-align:center;}
        .category-btn {background:white; border:1px solid #3498db; color:#3498db; padding:8px 20px; border-radius:20px; margin:0 5px; cursor:pointer; transition:all 0.3s;}
        .category-btn.active {background:#3498db; color:white;}
        /* 底部 */
        .footer {background:#2c3e50; color:white; text-align:center; padding:20px 0; margin-top:50px;}
        /* 动画 */
        @keyframes fadeIn {from {opacity:0; transform:translateY(20px);} to {opacity:1; transform:translateY(0);}}
        /* 响应式 */
        @media (max-width:768px) {
            .recognize-box {min-width:100%;}
            .herb-list-box {min-width:100%;}
            .nav-inner {flex-direction:column; gap:10px;}
            .nav-menu {margin-top:10px;}
            .nav-menu a {margin:0 10px;}
        }
    </style>
</head>
<body>
    <!-- 导航栏 -->
    <div class="nav">
        <div class="nav-inner">
            <div class="logo">智能中草药识别</div>
            <div class="nav-menu">
                <a href="/">首页识别</a>
                <a href="/herb-list">中药大全</a>
                <a href="/about">使用说明</a>
            </div>
        </div>
    </div>

    <!-- 主容器 -->
    <div class="container">
        <!-- 识别区 -->
        <div class="recognize-box">
            <h2 class="title">上传图片识别中草药</h2>
            <form method="POST" enctype="multipart/form-data" id="recognize-form" action="https://123chenyuxin.pythonanywhere.com/api/recognize">
                <div class="upload-area" onclick="document.getElementById('img-input').click()">
                    <div class="upload-tip">点击上传图片（支持任意jpg/png格式）</div>
                    <button type="button" class="upload-btn">选择图片</button>
                    <input type="file" id="img-input" name="file" accept="image/jpeg,image/png" class="upload-input" onchange="showFileName(this)">
                </div>
                <div style="text-align:center;">
                    <button type="submit" class="upload-btn">开始智能识别</button>
                </div>
            </form>

            <!-- 识别结果 -->
            {% if res %}
                {% if res.status == 'success' %}
                    <div class="result-box show">
                        <div class="result-title">识别结果：{{res.herb}}</div>
                        <img src="/static/images/{{res.herb}}.jpg" class="herb-img" onerror="this.src='/static/images/default.jpg'">
                        <div class="info-item"><span class="info-label">药效：</span>{{res.info.药效}}</div>
                        <div class="info-item"><span class="info-label">药用部位：</span>{{res.info.药用部位}}</div>
                        <div class="info-item"><span class="info-label">日常用法：</span>{{res.info.日常用法}}</div>
                        <div class="info-item"><span class="info-label">食用禁忌：</span>{{res.info.禁忌}}</div>
                    </div>
                {% else %}
                    <div class="fail-msg">{{res.msg}}</div>
                {% endif %}
            {% endif %}
        </div>

        <!-- 中药列表区 -->
        <div class="herb-list-box">
            <h2 class="title">常见中草药</h2>
            <div class="category">
                <button class="category-btn active">全部</button>
                <button class="category-btn">补气类</button>
                <button class="category-btn">补血类</button>
                <button class="category-btn">清热类</button>
                <button class="category-btn">调味类</button>
            </div>
            <div class="herb-list">
                {% for herb in herb_list %}
                    <div class="herb-card" onclick="showHerbInfo('{{herb}}')">
                        <img src="/static/images/{{herb}}.jpg" class="herb-card-img" onerror="this.src='/static/images/default.jpg'">
                        <div class="herb-card-name">{{herb}}</div>
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>

    <!-- 底部 -->
    <div class="footer">
        智能中草药识别工具 © 2026 版权所有
    </div>

    <script>
        // 显示上传文件名
        function showFileName(input) {
            if (input.files.length > 0) {
                document.querySelector('.upload-tip').innerText = "已选择：" + input.files[0].name;
            }
        }
        // 显示中药详情（后续可扩展）
        function showHerbInfo(herbName) {
            alert("即将显示「" + herbName + "」的详细信息");
        }
    </script>
</body>
</html>

'''
